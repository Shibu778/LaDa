constant PACKAGE : '\"LaDa\ 3.25\"' ;
path-constant TOP : . ;

include env.jam ;

rule findrev
{
  Depends all : $(1) ;
  Always $(1) ;
} 
actions findrev
{
  ./scripts/max_revision.pl
}

findrev revision.h ;


lib tinyxml : : <search>$(tinyxmlldflags) <name>tinyxml <define>TIXML_USE_STL :
            : <include>$(tinyxmlinclude) <define>TIXML_USE_STL ;
lib boost-pg     : : <name>boost_program_options$(boostldsuffix) 
                     <search>$(boostldflags) ;
lib boost-mpi    : : <name>boost_mpi-gcc41-mt$(boostldsuffix) 
                     <search>$(boostldflags) ;
lib boost-ser    : : <name>boost_serialization$(boostldsuffix) 
                     <search>$(boostldflags) ;
lib boost-python : : <name>boost_python$(boostldsuffix) 
                     <search>$(boostldflags) ;


import feature : feature ;
feature cstype : cubic tetragonal : composite propagated ;
feature.compose <cstype>cubic : <define>_CUBIC_CE_ ;
feature.compose <cstype>tetragonal : <define>_TETRAGONAL_CE_ ;

project LaDa : requirements <include>.  
                            <include>$(boostinclude) 
                            <include>$(generalinclude) 
                            <define>PACKAGE_STRING=$(PACKAGE) 
             : default-build debug <cstype>cubic ;


